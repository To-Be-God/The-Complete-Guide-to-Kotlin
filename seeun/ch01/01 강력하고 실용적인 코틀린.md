# 01. 강력하고 실용적인 코틀린
## 1.1 코틀린이란 무엇인가?

- 코틀린은 안전성, 간결성, 상호 운용성을 강조하는 다중 패러다임, 다중 플랫폼 프로그래밍 언어다.

### 안전성

- 코틀린의 설계 목표 중 하나는 자바보다 더 안정성을 보장하는 언어를 설계하되, 개발자의 생산성을 덜 해치는 언어를 만드는 것이었다.
- 코틀린의 안정성에 대한 중요한 특징은 다음과 같다
    - Type Inference : 개발자가 명시적으로 타입을 지정하지 않아도 타입을 추론해준다.
    - Nullable Type : 널이 될 수 있는 타입을 통해 null의 사용을 제한할 수 있고, NullPointerException 예외를 좀 더 쉽게 방지할 수 있다.
    - Smart Cast : 타입을 안전하게 변환할 수 있고, 실행 시점에 타입 캐스트 오류를 방지할 수 있다.

### 다중 패러다임

- 초기에 코틀린이 다중 패러다임이라는 말의 의미는 자바와 같은 전형적인 주류 프로그래밍 언어가 지원하는 일반적인 객체지향 패러다임 외에 함수형 프로그래밍을 지원한다는 뜻이었다.
    - 함수형 프로그래밍은 함수를 다른 값과 마찬가지로 다룬다는 생각에서 비롯된 프로그래밍 방법이다.
    - 따라서 함수를 다른 함수의 인수로 넘기거나, 지역적으로 함수를 선언하거나, 변수에 저장하거나, 함수가 함수를 반환하는 등의 일이 가능하다.
- 함수형 프로그래밍의 또 다른 측면으로 **불변성(immutability)**이 있다. 이는 **생성한 객체의 내부 상태를 변경할 수 없고, 함수의 부수 효과를 만들어낼 수 없음**을 의미한다.
    - 이런 접근 방법의 큰 이점은 유연성이다. 새로운 유형의 추상화를 만들어낼 수 있어서 훨씬 표현력이 좋고 간결한 코드를 작성할 수 있으며, 이에 따라 생산성이 좋아진다.
- 코틀린 언어가 성장해 나가면서, 두 가지 프로그래밍 패러다임을 더 지원하기 시작했다. API를 도메인 특화 언어로 정의할 수 있는 기능 덕분에 코틀린을 선언적인 스타일로 코딩할 수 있다.
- 또 한 가지 패러다임은 동시성 프로그래밍이다. 코루틴을 도입하면서 코틀린도 동시성 프로그래밍을 지원하기 시작했다. 자바를 포함한 여러 언어가 동시성을 지원하지만, 코틀린은 새로운 프로그래밍 접근 방법을 가능하게 해주는 프로그래밍 패턴을 제공한다.

### 간결성과 표현력

- 개발자 생산성은 다른 사람이 짠 코드를 보든 본인 스스로가 짠 것을 보든 관계없이, 빠르게 읽고 이해할 수 있는 코드를 작성할 수 있는지와 주로 연관돼 있다.
- 기존 코드의 의미를 파악하는 것이 새로 코드를 작성하는 것보다 일반적으로 시간이 더 오래 걸리고, 언어의 간결성, 즉 프로그래머의 의도를 명확하게 표현할 수 있는 능력이 개발 도구인 프로그래밍 언어에서 중요하다.
- 코틀린 설계자들은 필드 게터나 세터, 익명 클래스, 명시적인 위임 들과 같은 불필요한 준비 코드를 제거하고 언어를 가능한 한 간결하게 만들기 위해 노력했다. 또한 간결성을 과용하지 못하게 주의를 기울였다.

### 상호 운용성

- 코틀린 설계자들은 기존 자바 코드를 코틀린에서 사용할 수 있게 했을 뿐 아니라, 코틀린 코드를 거의 아무런 노력을 들이지 않고도 자바에서 사용할 수 있도록 보장하기 위해 노력했다.

### 다중 플랫폼

- JVM과 안드로이드가 코틀린 개발의 주 대상이지만, 요즘 코틀린은 다음과 같은 플랫폼도 지원한다.
    - 브라우저나 노드 애플리케이션, 자바스크립트 라이브러리까지 포함하는 자바스크립트 지원
    - macOS나 리눅스, 윈도우 라이브러리 및 애플리케이션을 포함하는 네이티브 지원

## 1.2 코틀린 생태계

### 코루틴

- 일시 중단 가능한 계산이라는 개념 덕분에 코틀린은 async/await, future, promise, actor 등의 동시성 관련 프로그래밍 패턴을 지원할 수 있다.
- 코루틴 프레임워크는 서버, 모바일, 데스크톱 관계없이 코틀린 애플리케이션에서 동시성 문제를 해결할 수 있는 강력하고 쉽게 확장 가능한 해법을 제공한다.
- 코루틴에 포함된 주요 기능은 다음과 같다
    - 스레드에 대한 더 가벼운 대안
    - 유연한 스레드 디스패치 메커니즘
    - 일시 중단 가능한 시퀀스와 이터레이터
    - 채널을 사용한 메모리 공유
    - 액터를 통해 메시지 전송 방식으로 상태 공유

### 테스트

- 테스트를 정의하거나 객체를 mocking 하고 싶을 때 JUnit, TestNG, Mockito 같은 익숙한 자바 테스트 프레임워크 중 일부를 추가적인 설정 필요 없이 바로 사용이 가능하다.
- 코틀린 맞춤용 테스트를 위한 프레임워크는 다음과 같다
    - Mockito-Kotlin : 모키토 프레임워크를 확장한 것으로 코틀린 객체 모킹을 단순화해준다.
    - Spek : 행위 주도 테스트 프레임워크로, Jasmine이나 Gherkin 스타일의 테스트 케이스 정의를 지원한다.
    - KoTest : 유연한 테스트 정의와 단언문(assertion)을 지원한다.